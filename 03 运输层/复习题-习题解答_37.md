### 3.7

#### R17 假设两条 TCP 连接存在于一个带宽为 R bps 的瓶颈链路上，它们都将发送一个很大的文件（以相同的方向经过瓶颈链路），并且两者是同时开始发送文件。那么 TCP 将为每条连接分配什么样的速率？

>
> 如下图所示
> 
> ![](https://github.com/YangXiaoHei/Networking/blob/master/03%20运输层/images/r17.png)
> 
> 不管这两条 TCP 连接起时于何种状态，它们都将以相同的增长率增长（以 45 度角斜向上，平行于平等带宽共享线），直到两条 TCP 连接所占用的带宽之和超过瓶颈链路容量，此时发生丢包事件，如果是 3 个冗余 ACK 指示的丢包事件，那么两条 TCP 连接从拥塞避免状态进入快速恢复状态，以指数增长；若是超时指示的丢包事件，那么两条 TCP 连接都变为 1 MSS，并且吧 ssthresh 修改为拥塞窗口的一半，进入慢启动阶段以指数增长，无论它们起始于何种状态，最终都将收敛到沿着平等带宽共享线上下（平行于平等带宽共享线）波动。

#### R18 是非判断题。考虑 TCP 的拥塞机制。当发送方定时器超时时，其 ssthresh 的值将被设置为原来值的一半。

> 
> ❌
> 
> 发送方定时器超时时，ssthresh 被设置为当前拥塞窗口的一半。

#### R19 在 3.7 节的 "TCP分岔" 讨论中，对于 TCP 分岔的响应时间，断言大约是 4 * RTTfe + RTTbe + 处理时间。评价该断言。

> ![](https://github.com/YangXiaoHei/Networking/blob/master/03%20运输层/images/r19.png)

