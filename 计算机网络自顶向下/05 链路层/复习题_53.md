#### R4 假设两个结点同时经一个速率为 R 的广播信道开始传输一个长度为 L 的分组。用 `d_prop` 表示这两个结点之间的传播时延。如果 `d_prop < L/R`，会出现碰撞吗？为什么？

  * 会出现碰撞，因为 `L/R > d_prop`，意思是当其中结点 A 开始传输分组时，还没有传输完整个分组，第一个 bit 就已经传播到另一个结点 B，此时 B 侦测到碰撞产生。因为 B 和 A 同时开始传输分组，所以在 B 侦测到碰撞的同时，A 也侦测到了碰撞。

#### R5 在 5.3 节中，我们列出了广播信道的 4 种希望的特性。这些特性中的哪些是时隙 ALOHA 所具有的？令牌传递具有这些特性中的哪些？

  * 对于速率为 R bps 的广播信道，我们希望多路访问协议具有的 4 种特性如下所示：
    * 1、仅有一个结点发送数据时，该结点具有 R bps 吞吐量。
    * 2、M 个结点发送数据时，每个结点平均吞吐量为 R/M bps
    * 3、协议是分散的，不会因为某个结点故障而使整个系统崩溃
    * 4、协议简单、实现不昂贵
    
  * 时隙 ALOHA 是一种随机接入访问协议。它在相同时隙的间隔内发送分组，若侦测到碰撞，那么选一个随机等待时间然后继续重传。
  * 时隙 ALOHA 具有如下特点：
    * 1、仅有一个结点发送数据时，该结点具有 R bps 吞吐量
    * 2、M 个结点发送数据时，每个结点平均吞吐量是 0.3R bps
    * 3、协议分散，不会因为某个结点故障而导致整个系统崩溃，因为每个结点都独立决定何时重传，但是时隙 ALOHA 需要在结点中对时隙进行同步。
    * 4、协议简单，实现不昂贵。

  * 令牌传递具有如下特点：
    * 1、仅有一个结点发送数据时，该结点具有 R bps 吞吐量
    * 2、M 个结点发送数据时，每个结点平均吞吐量为 R/M bps
    * 3、协议分散，但会因为一个结点的故障导致整个系统崩溃。也可能因为令牌没有被释放导致整个系统崩溃。
    * 4、协议简单，实现不昂贵。 
    
#### R6 在 CSMA/CD 中，在第 5 次碰撞后，结点选择 K = 4 的概率有多大？结果 K = 4 在 10 Mbps 以太网上对应于多少秒的时延？

   * 第 n 次碰撞后，随机从 { 0, 1, 2, 3, ..., 2^n - 1 } 中选择一个 K。
   * 1 次碰撞 { 0, 1 }
   * 2 次碰撞 { 0, 1, 2, 3 }
   * 3 次碰撞 { 0, 1, 2, 3, 4, 5, 6, 7 }
   * 4 次碰撞 { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, ..., 15 }
   * 5 次碰撞 { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, ..., 31 }
   * 因此 5 次碰撞后，选择 K = 4 的概率是 1/32
   
   * `时延 = 4 x 51.2 us = 204.8 us` 

#### R7 使用人类在鸡尾酒会交互的类比来描述轮询和令牌传递协议。
   * 对于轮询协议:
     * 主持人分别询问参与鸡尾酒会的每个人
     * “你要不要发言，来话筒给你”
     * "你要不要发言，没话说？过！"
   
   * 对于令牌传递协议:
     * 拿到话筒的人才可以说话，所以话筒先从主持人开始传递，主持人将其交给 A。
     * A: "balabalabala....."，然后把话筒给 B
     * B 没话说，把话筒给 C
     * C: "balabalabala....."，然后把话筒给 D
     * D 没话说，把话筒给 A

#### R8 如果局域网有很大的周长时，为什么令牌环协议将是低效的？
  * 令牌环网的工作过程是如下：
     * 初始化环
     * 将令牌沿着物理链路单向逐站传递
     * 如果 A 要说话，那么必须等到令牌传到 A 这里
     * 当 A 拿到令牌时，A 传送帧，并开启一个定时器 Token Holding Timer，A 传送的帧沿着环被每个结点接收到，但只有 MAC 地址匹配的才复制该帧。
     * 当 A 传送的帧传播了一整圈重新回到 A 后，A 看一下 THT 是否超时，如果超时那么即便自己还有话要说，也只能把令牌释放传给下一个结点，如果未超时，那么 A 可以继续说话。
   
   * 从令牌环网的工作方式可以看出，令牌需要在 A 的帧绕环一整圈后才能被 A 释放，因此当局域网有很大的周长时，绕一阵圈相当耗时，下一个结点要等好久才能轮到自己说话。
